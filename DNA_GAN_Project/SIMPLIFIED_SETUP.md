# Simplified DNA GAN Web Interface Setup

This document provides instructions for setting up a simplified web interface for the DNA GAN project.

## Step 1: Create a New Directory Structure

Create the following directory structure:

```
dna_gan_web/
├── data/
├── models/
├── static/
│   ├── images/
│   ├── css/
│   └── js/
├── templates/
└── utils/
```

## Step 2: Copy Essential Files

Copy the following files to the new directory structure:

### Data Files
- `data/preprocessed_dna_sequences.fasta` → `dna_gan_web/data/`
- `data/gumbel_generated_sequences.fasta` → `dna_gan_web/data/`
- `data/improved_generated_sequences.fasta` → `dna_gan_web/data/`

### Model Files
- `models/gumbel_softmax_gan/*.py` → `dna_gan_web/models/`
- `models/improved_wgan/*.py` → `dna_gan_web/models/`

### Utility Files
- `utils/preprocess_with_random_replacement.py` → `dna_gan_web/utils/`
- `utils/check_cuda.py` → `dna_gan_web/utils/`
- `utils/generate_test_sequences.py` → `dna_gan_web/utils/`

### Visualization Files
- Copy `visualization/streamlit_app_comparison.py` to `dna_gan_web/templates/app.py`
- Copy `visualization/streamlit_evaluation_page.py` to `dna_gan_web/templates/evaluation_page.py`

### Checkpoints
- `checkpoints/gumbel_softmax_gan/*.pt` → `dna_gan_web/checkpoints/gumbel_softmax_gan/`
- `checkpoints/improved_wgan/*.pt` → `dna_gan_web/checkpoints/improved_wgan/`

## Step 3: Create Run Scripts

Create the following run scripts:

### Windows (run_app.bat)
```batch
@echo off
REM Script to run the DNA GAN web interface

REM Install required packages if not already installed
pip install -q streamlit numpy matplotlib pandas seaborn biopython pillow

REM Check if data directory exists
if not exist data (
    echo Creating data directory...
    mkdir data
)

REM Check if the data files exist
if not exist data\preprocessed_dna_sequences.fasta (
    echo Warning: Original data file not found.
    echo Generating sample data...
    python -c "from utils.generate_test_sequences import generate_test_sequences; generate_test_sequences('data/preprocessed_dna_sequences.fasta', num_sequences=1000, length=150, gc_bias=0.5, model_name='original')"
)

if not exist data\gumbel_generated_sequences.fasta (
    echo Warning: Gumbel-Softmax generated sequences not found.
    echo Generating sample data...
    python -c "from utils.generate_test_sequences import generate_test_sequences; generate_test_sequences('data/gumbel_generated_sequences.fasta', num_sequences=1000, length=150, gc_bias=0.45, model_name='gumbel')"
)

if not exist data\improved_generated_sequences.fasta (
    echo Warning: Improved WGAN-GP generated sequences not found.
    echo Generating sample data...
    python -c "from utils.generate_test_sequences import generate_test_sequences; generate_test_sequences('data/improved_generated_sequences.fasta', num_sequences=1000, length=150, gc_bias=0.52, model_name='improved')"
)

REM Run the Streamlit app
echo Running the DNA GAN web interface...
streamlit run templates\app.py
```

### Unix/MacOS (run_app.sh)
```bash
#!/bin/bash
# Script to run the DNA GAN web interface

# Install required packages if not already installed
pip install -q streamlit numpy matplotlib pandas seaborn biopython pillow

# Check if data directory exists
if [ ! -d "data" ]; then
    echo "Creating data directory..."
    mkdir -p data
fi

# Check if the data files exist
if [ ! -f "data/preprocessed_dna_sequences.fasta" ]; then
    echo "Warning: Original data file not found."
    echo "Generating sample data..."
    python -c "from utils.generate_test_sequences import generate_test_sequences; generate_test_sequences('data/preprocessed_dna_sequences.fasta', num_sequences=1000, length=150, gc_bias=0.5, model_name='original')"
fi

if [ ! -f "data/gumbel_generated_sequences.fasta" ]; then
    echo "Warning: Gumbel-Softmax generated sequences not found."
    echo "Generating sample data..."
    python -c "from utils.generate_test_sequences import generate_test_sequences; generate_test_sequences('data/gumbel_generated_sequences.fasta', num_sequences=1000, length=150, gc_bias=0.45, model_name='gumbel')"
fi

if [ ! -f "data/improved_generated_sequences.fasta" ]; then
    echo "Warning: Improved WGAN-GP generated sequences not found."
    echo "Generating sample data..."
    python -c "from utils.generate_test_sequences import generate_test_sequences; generate_test_sequences('data/improved_generated_sequences.fasta', num_sequences=1000, length=150, gc_bias=0.52, model_name='improved')"
fi

# Run the Streamlit app
echo "Running the DNA GAN web interface..."
streamlit run templates/app.py
```

## Step 4: Create README

Create a README.md file with the following content:

```markdown
# DNA GAN Web Interface

This web interface allows you to:

1. View original DNA sequences
2. View sequences generated by Gumbel-Softmax GAN
3. View sequences generated by Wasserstein GAN
4. Compare and analyze all three datasets

## Running the App

```bash
# On Windows
run_app.bat

# On Unix/MacOS
chmod +x run_app.sh
./run_app.sh
```
```

## Step 5: Run the Web Interface

1. Navigate to the `dna_gan_web` directory
2. Run the appropriate script for your operating system:
   - Windows: `run_app.bat`
   - Unix/MacOS: `chmod +x run_app.sh && ./run_app.sh`
3. The web interface will open in your browser

## Features of the Web Interface

The web interface provides the following features:

1. **Home Page**: Overview of the project and buttons to generate sequences
2. **Original Data**: View and analyze the original DNA sequences
3. **Generated Data**: View and analyze sequences generated by either model
4. **Model Comparison**: Compare metrics and visualizations between all three datasets
5. **Evaluation**: Comprehensive evaluation of the models

## Cleaning Up the Original Directory

After setting up the simplified web interface, you can clean up the original directory by:

1. Keeping only the essential files needed for the web interface
2. Removing unnecessary scripts and utilities
3. Organizing the remaining files in a logical structure

This will make the project easier to maintain and understand.
